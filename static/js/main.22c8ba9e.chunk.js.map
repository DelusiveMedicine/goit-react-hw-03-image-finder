{"version":3,"sources":["components/SearchForm/SearchForm.module.css","components/Gallery/Gallery.module.css","components/SearchForm/SearchForm.jsx","components/Modal/Modal.jsx","components/PhotoCard/PhotoCard.jsx","components/Gallery/Gallery.jsx","API.js","components/App.jsx","index.js","components/PhotoCard/PhotoCard.module.css","components/App.module.css","components/Modal/Modal.module.css"],"names":["module","exports","SearchForm","onSubmit","onChange","value","searchForm","styles","className","type","autoComplete","placeholder","Modal","ref","createRef","handleToggle","event","preventDefault","target","keyCode","current","toggleModal","props","window","addEventListener","this","removeEventListener","image","alt","overlay","modal","onClick","src","Component","PhotoCard","state","isShown","setState","photoCard","stats","statsItem","fullscreenButton","galleryItem","webformatURL","tags","likes","views","comments","downloads","largeImageURL","Gallery","items","showModal","gallery","map","item","key","id","KEY","fetchData","query","page","API","axios","get","then","res","status","Error","statusText","App","data","currentQuery","handleChange","handleSubmit","hits","loadItems","prevState","handleScroll","scrollTo","top","pageYOffset","behavior","app","button","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.22c8ba9e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__1uWNo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__3onM3\"};","import React from 'react';\r\nimport styles from './SearchForm.module.css';\r\n\r\nconst SearchForm = ({ onSubmit, onChange, value }) => {\r\n  const { searchForm } = styles;\r\n  return (\r\n    <form className={searchForm} onSubmit={onSubmit}>\r\n      <input\r\n        onChange={onChange}\r\n        type=\"text\"\r\n        autoComplete=\"off\"\r\n        placeholder=\"Search images...\"\r\n        value={value}\r\n      />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SearchForm;\r\n","import React, { Component, createRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.css';\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    toggleModal: PropTypes.func,\r\n    image: PropTypes.string,\r\n    alt: PropTypes.string,\r\n  };\r\n\r\n  ref = createRef();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleToggle);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleToggle);\r\n  }\r\n\r\n  handleToggle = event => {\r\n    event.preventDefault();\r\n    const { target, keyCode } = event;\r\n    const { current } = this.ref;\r\n    const { toggleModal } = this.props;\r\n\r\n    if (keyCode === 27 || target === current) toggleModal();\r\n  };\r\n\r\n  render() {\r\n    const { image, alt } = this.props;\r\n    const { overlay, modal } = styles;\r\n    return (\r\n      <div className={overlay} onClick={this.handleToggle} ref={this.ref}>\r\n        <div className={modal}>\r\n          <img src={image} alt={alt} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Modal;\r\n","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './PhotoCard.module.css';\r\nimport Modal from '../Modal/Modal';\r\n\r\nclass PhotoCard extends Component {\r\n  static propTypes = {\r\n    webformatURL: PropTypes.string,\r\n    tags: PropTypes.string,\r\n    likes: PropTypes.number,\r\n    views: PropTypes.number,\r\n    comments: PropTypes.number,\r\n    downloads: PropTypes.number,\r\n    largeImageURL: PropTypes.string,\r\n  };\r\n\r\n  state = { isShown: false };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ isShown }) => ({\r\n      isShown: !isShown,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      photoCard,\r\n      stats,\r\n      statsItem,\r\n      fullscreenButton,\r\n      galleryItem,\r\n    } = styles;\r\n\r\n    const {\r\n      webformatURL,\r\n      tags,\r\n      likes,\r\n      views,\r\n      comments,\r\n      downloads,\r\n      largeImageURL,\r\n    } = this.props;\r\n\r\n    const { isShown } = this.state;\r\n\r\n    return (\r\n      <Fragment>\r\n        {isShown && (\r\n          <Modal\r\n            image={largeImageURL}\r\n            alt={tags}\r\n            toggleModal={this.toggleModal}\r\n          />\r\n        )}\r\n        <div className={photoCard}>\r\n          <img src={webformatURL} alt={tags} className={galleryItem} />\r\n\r\n          <div className={stats}>\r\n            <p className={statsItem}>\r\n              <i className=\"material-icons\">thumb_up</i>\r\n              {likes}\r\n            </p>\r\n            <p className={statsItem}>\r\n              <i className=\"material-icons\">visibility</i>\r\n              {views}\r\n            </p>\r\n            <p className={statsItem}>\r\n              <i className=\"material-icons\">comment</i>\r\n              {comments}\r\n            </p>\r\n            <p className={statsItem}>\r\n              <i className=\"material-icons\">cloud_download</i>\r\n              {downloads}\r\n            </p>\r\n          </div>\r\n\r\n          <button\r\n            type=\"button\"\r\n            className={fullscreenButton}\r\n            onClick={this.toggleModal}\r\n          >\r\n            <i className=\"material-icons\">zoom_out_map</i>\r\n          </button>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PhotoCard;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Gallery.module.css';\r\nimport PhotoCard from '../PhotoCard/PhotoCard';\r\n\r\nconst Gallery = ({ items, showModal }) => {\r\n  const { gallery } = styles;\r\n  return (\r\n    <ul className={gallery}>\r\n      {items.map(item => (\r\n        <li key={item.id}>\r\n          <PhotoCard {...item} showModal={showModal} />\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nGallery.propTypes = {\r\n  items: PropTypes.arrayOf(PropTypes.object),\r\n  showModal: PropTypes.func,\r\n};\r\n\r\nexport default Gallery;\r\n","import axios from 'axios';\n\nconst KEY = '14105960-38572ae981a969c3d72b66ba4';\n\nconst fetchData = (query = '', page = 1) => {\n  const API = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=${KEY}`;\n  return axios.get(API).then(res => {\n    if (res.status === 200) return res;\n    throw Error(`${res.status} ${res.statusText}`);\n  });\n};\n\nexport default fetchData;\n","import React, { Component } from 'react';\r\nimport styles from './App.module.css';\r\nimport SearchForm from './SearchForm/SearchForm';\r\nimport Gallery from './Gallery/Gallery';\r\nimport fetchData from '../API';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    data: [],\r\n    query: '',\r\n    page: 1,\r\n    currentQuery: '',\r\n  };\r\n\r\n  componentDidMount() {\r\n    fetchData().then(({ data }) => {\r\n      this.setState({ data: data.hits });\r\n    });\r\n  }\r\n\r\n  handleChange = event => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    this.setState({ query: value });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    const { query } = this.state;\r\n    fetchData(query)\r\n      .then(({ data }) => {\r\n        this.setState({ data: data.hits, currentQuery: query });\r\n      })\r\n      .then(this.setState({ query: '', page: 1 }));\r\n  };\r\n\r\n  loadItems = () => {\r\n    const { currentQuery, page } = this.state;\r\n\r\n    fetchData(currentQuery, page + 1)\r\n      .then(({ data }) => {\r\n        this.setState(prevState => ({\r\n          data: [...prevState.data, ...data.hits],\r\n          page: page + 1,\r\n        }));\r\n      })\r\n      .then(this.handleScroll);\r\n  };\r\n\r\n  handleScroll = () => {\r\n    window.scrollTo({\r\n      top: window.pageYOffset + 680,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { app, button } = styles;\r\n    const { data, query } = this.state;\r\n\r\n    return (\r\n      <div className={app}>\r\n        <SearchForm\r\n          onChange={this.handleChange}\r\n          onSubmit={this.handleSubmit}\r\n          value={query}\r\n        />\r\n        {data.length ? (\r\n          <>\r\n            <Gallery items={data} />\r\n            <button type=\"button\" className={button} onClick={this.loadItems}>\r\n              Load more\r\n            </button>\r\n          </>\r\n        ) : (\r\n          <h1>No results found for your query</h1>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"PhotoCard_photoCard__19x7G\",\"stats\":\"PhotoCard_stats__1LF9u\",\"statsItem\":\"PhotoCard_statsItem__FMm-f\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__1EkG8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1GAul\",\"button\":\"App_button__2SgHG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2BbhZ\",\"modal\":\"Modal_modal__3IJO1\"};"],"sourceRoot":""}